<style>
/* Extracted responsive + mobile overrides for Dashboard and ItemForm
   Quick fixes to improve mobile layout without refactoring JS renderers
*/
/* Ensure base box-sizing and full-height layout so 100vh calculations are reliable */
html, body { height: 100%; margin: 0; padding: 0; box-sizing: border-box; -webkit-text-size-adjust: 100%; }
*, *::before, *::after { box-sizing: border-box; }

/* Make app root and main content flexible so content can grow to fill viewport */
.app-root, #content { min-height: 100vh; display: flex; flex-direction: column; }
.app-root { width: 100% !important; margin: 0 auto; padding: 0 8px; box-sizing: border-box; }
.main-container, .content-wrapper { width: 100%; max-width: 100%; }

/* Media and embeds must respect container width to avoid overflow */
img, svg, iframe { max-width: 100%; height: auto; }

/* Mobile-first: increase touch targets and spacing */
.btn { min-height: 44px; min-width: 44px; padding: 10px 14px; }
.btn.btn-icon { height: 44px; width: 44px; padding: 6px; }

/* Form controls should be allowed to shrink and fill available width */
select, input, textarea { min-width: 0; width: 100%; }

/* Key/value grid: allow label column to size to content on small screens */
.kv { grid-template-columns: auto 1fr; }

/* Cards and modals: prefer fluid/full width on small viewports */
.card, .line-item-card { max-width: 100%; width: auto; }

/* Project row should not force wide selects on mobile */
#projectRow { display:flex; flex-direction:row; gap:8px; align-items:center; }
#projectRow select { flex: 1 1 auto; }

/* Make the create project modal full-bleed on narrow screens */
.modal-fullscreen { width: 100% !important; max-width: 100% !important; margin: 8px; }

/* Centered modal (desktop) but responsive on mobile */
.modal-centered { max-width: 600px; margin: 0 auto; width: 100%; }

/* Reduce horizontal gaps that cause overflow on very small devices */
.row { gap: 8px; }

/* Utility: ensure lists do not produce horizontal scroll */
.list { overflow: visible; }

/* Media query for tablets and smaller screens */
@media (max-width: 900px) {
  .app-root { width: 100% !important; max-width: 100% !important; }
  #projectRow { width: 100% !important; }
}

/* Media query for very small devices */
@media (max-width: 480px) {
  .app-root { padding: 0 12px; width: 100% !important; max-width: 100% !important; }
  .toolbar { gap: 6px; }
  #tabBar { gap:6px; }
  /* Stack project selector and buttons vertically on small viewports to avoid overflow */
  #projectRow { flex-direction: column; align-items: stretch; gap: 8px; width: 100% !important; }
  #projectRow select { width: 100%; min-width: 0; }
  #projectRow button { width: 100%; }
  /* Reduce page margins to give more space on very small devices */
  body, .app-root { padding-left: env(safe-area-inset-left, 12px); padding-right: env(safe-area-inset-right, 12px); }
  /* Ensure cards and modals use full width and remove fixed margins that caused tiny visible whitespace */
  .card, .modal-fullscreen { margin: 6px 0; border-radius: 10px; max-width: 100% !important; }
  /* Increase hit area for icon buttons and make toolbar wrap when needed */
  .btn.btn-icon { height: 44px; width: 44px; padding: 8px; }
  .toolbar { flex-wrap: wrap; }
  /* Prevent long text from creating horizontal scroll */
  .card, #content, .list { overflow-wrap: anywhere; word-break: break-word; }
}

/* End of mobile overrides */
</style>

<!-- Touch-device override: force the app root to occupy the viewport on touch-first devices
     This addresses cases where the host/container reports a large layout width but the
     device is touch-based (phones/tablets). Applied only to touch devices to avoid
     affecting desktop layouts. -->
<style>
@media (hover: none) and (pointer: coarse) {
  .app-root {
    position: fixed !important;
    left: env(safe-area-inset-left, 0) !important;
    right: env(safe-area-inset-right, 0) !important;
    top: 0 !important;
    bottom: 0 !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    padding-left: env(safe-area-inset-left, 12px) !important;
    padding-right: env(safe-area-inset-right, 12px) !important;
    overflow: auto !important;
    background: transparent !important;
  }
  /* Ensure body doesn't create a horizontally-scrollable container */
  body { overflow-x: hidden !important; }
  /* Make toolbars wrap and controls enlarge on touch devices */
  .toolbar { gap: 6px; flex-wrap: wrap; }
  #projectRow { flex-direction: column; align-items: stretch; gap: 8px; }
  .btn.btn-icon { height: 44px; width: 44px; padding: 8px; }
}
</style>


