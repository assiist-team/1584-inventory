{"sql": "-- Transaction 3: Wayfair bedroom furniture - $5,000 subtotal\nDO $$\nDECLARE\n  v_account_id UUID := '2d612868-852e-4a80-9d02-9d10383898d4';\n  v_created_by UUID := '4ef35958-597c-4aea-b99e-1ef62352a72d';\n  v_project_id UUID := '2115f472-03a1-4872-aa20-881a24d36389';\n  v_tax_rate_pct NUMERIC := 10.0;\n  v_cat_furnishings UUID := 'ea004cdf-9766-4a0b-974e-499c6dad9c14';\n  v_tx_id TEXT;\n  v_item_id TEXT;\n  v_qr_key TEXT;\n  v_raw_purchase NUMERIC;\n  v_raw_project NUMERIC;\n  v_raw_market NUMERIC;\n  v_purchase NUMERIC;\n  v_project_price NUMERIC;\n  v_market NUMERIC;\n  v_tax_purchase NUMERIC;\n  v_tax_project NUMERIC;\n  v_tx_total NUMERIC;\n  v_tx_subtotal NUMERIC;\n  v_tx_tax NUMERIC;\n  v_item_ids TEXT[];\n  v_timestamp BIGINT;\n  item_data RECORD;\nBEGIN\n  v_timestamp := EXTRACT(EPOCH FROM NOW())::BIGINT * 1000;\n  v_tx_id := gen_random_uuid()::text;\n  v_item_ids := ARRAY[]::text[];\n  v_tx_subtotal := 0;\n\n  FOR item_data IN\n    SELECT *\n    FROM (VALUES\n      ('Platform Bed Frame', 'Minimalist platform bed frame, queen size, white oak', 'WF-BED-PLATFORM-001', 'Wayfair', 750.00, 850.00, 950.00),\n      ('Nightstands (Pair)', 'Modern nightstands with drawers, white oak finish', 'WF-NIGHTSTAND-001', 'Wayfair', 480.00, 540.00, 600.00),\n      ('Dresser', '6-drawer dresser, white oak, minimalist design', 'WF-DRESSER-001', 'Wayfair', 950.00, 1050.00, 1150.00),\n      ('Bedding Set', 'Luxury linen bedding set in neutral gray', 'WF-BEDDING-LINEN-001', 'Wayfair', 320.00, 360.00, 400.00),\n      ('Bedside Lamps (Pair)', 'Modern bedside lamps', 'WF-LAMP-BEDSIDE-001', 'Wayfair', 240.00, 270.00, 300.00),\n      ('Wardrobe', 'Minimalist wardrobe, white oak', 'WF-WARDROBE-001', 'Wayfair', 1200.00, 1350.00, 1500.00),\n      ('Bench', 'Upholstered bench for end of bed', 'WF-BENCH-001', 'Wayfair', 360.00, 400.00, 440.00)\n    ) AS items(name, description, sku, source, raw_purchase, raw_project, raw_market)\n  LOOP\n    v_item_id := 'I-' || v_timestamp || '-' || substr(md5(random()::text), 1, 4);\n    v_qr_key := 'QR-' || v_timestamp || '-' || substr(md5(random()::text), 1, 4);\n    v_raw_purchase := item_data.raw_purchase;\n    v_raw_project := item_data.raw_project;\n    v_raw_market := item_data.raw_market;\n    v_purchase := LEAST(v_raw_purchase, v_raw_project, v_raw_market);\n    v_market := GREATEST(v_raw_purchase, v_raw_project, v_raw_market);\n    v_project_price := v_raw_purchase + v_raw_project + v_raw_market - v_purchase - v_market;\n    v_tax_purchase := ROUND(v_purchase * v_tax_rate_pct / 100.0, 4);\n    v_tax_project := ROUND(v_project_price * v_tax_rate_pct / 100.0, 4);\n    INSERT INTO items (\n      account_id, project_id, transaction_id, item_id, name, description, sku, source,\n      purchase_price, project_price, market_value, tax_rate_pct, tax_amount_purchase_price, tax_amount_project_price,\n      payment_method, disposition, qr_key, inventory_status, date_created, created_by, created_at, last_updated\n    ) VALUES (\n      v_account_id, v_project_id, v_tx_id, v_item_id, item_data.name,\n      item_data.description,\n      item_data.sku, item_data.source,\n      v_purchase::text, v_project_price::text, v_market::text,\n      v_tax_rate_pct, v_tax_purchase::text, v_tax_project::text,\n      'Client Card', 'keep', v_qr_key, 'allocated', CURRENT_DATE - INTERVAL '38 days',\n      v_created_by, NOW(), NOW()\n    );\n    v_item_ids := v_item_ids || v_item_id;\n    v_tx_subtotal := v_tx_subtotal + v_project_price;\n  END LOOP;\n\n  v_tx_tax := ROUND(v_tx_subtotal * v_tax_rate_pct / 100.0, 2);\n  v_tx_total := v_tx_subtotal + v_tx_tax;\n  INSERT INTO transactions (\n    account_id, project_id, transaction_id, transaction_date, source, transaction_type,\n    amount, description, category_id, status, payment_method,\n    tax_rate_pct, subtotal, item_ids, created_by, created_at, updated_at\n  ) VALUES (\n    v_account_id, v_project_id, v_tx_id, CURRENT_DATE - INTERVAL '38 days', 'Wayfair', 'Purchase',\n    v_tx_total::text, 'Bedroom furniture from Wayfair', v_cat_furnishings, 'completed', 'Client Card',\n    v_tax_rate_pct, v_tx_subtotal::text, v_item_ids,\n    v_created_by, NOW(), NOW()\n  );\nEND $$;\n\n-- Transaction 4: Arhaus accent furniture - $4,500 subtotal\nDO $$\nDECLARE\n  v_account_id UUID := '2d612868-852e-4a80-9d02-9d10383898d4';\n  v_created_by UUID := '4ef35958-597c-4aea-b99e-1ef62352a72d';\n  v_project_id UUID := '2115f472-03a1-4872-aa20-881a24d36389';\n  v_tax_rate_pct NUMERIC := 10.0;\n  v_cat_furnishings UUID := 'ea004cdf-9766-4a0b-974e-499c6dad9c14';\n  v_tx_id TEXT;\n  v_item_id TEXT;\n  v_qr_key TEXT;\n  v_raw_purchase NUMERIC;\n  v_raw_project NUMERIC;\n  v_raw_market NUMERIC;\n  v_purchase NUMERIC;\n  v_project_price NUMERIC;\n  v_market NUMERIC;\n  v_tax_purchase NUMERIC;\n  v_tax_project NUMERIC;\n  v_tx_total NUMERIC;\n  v_tx_subtotal NUMERIC;\n  v_tx_tax NUMERIC;\n  v_item_ids TEXT[];\n  v_timestamp BIGINT;\n  item_data RECORD;\nBEGIN\n  v_timestamp := EXTRACT(EPOCH FROM NOW())::BIGINT * 1000;\n  v_tx_id := gen_random_uuid()::text;\n  v_item_ids := ARRAY[]::text[];\n  v_tx_subtotal := 0;\n\n  FOR item_data IN\n    SELECT *\n    FROM (VALUES\n      ('Accent Chair', 'Modern accent chair in charcoal gray fabric', 'AH-CHAIR-ACCENT-001', 'Arhaus', 750.00, 820.00, 900.00),\n      ('Side Table', 'Round side table with marble top, 24 inches', 'AH-TABLE-SIDE-001', 'Arhaus', 480.00, 540.00, 600.00),\n      ('Floor Mirror', 'Full-length floor mirror, minimalist frame', 'AH-MIRROR-FLOOR-001', 'Arhaus', 400.00, 450.00, 500.00),\n      ('Console Table', 'Sleek console table with drawers', 'AH-CONSOLE-001', 'Arhaus', 950.00, 1050.00, 1150.00),\n      ('Accent Table', 'Modern accent table', 'AH-TABLE-ACCENT-001', 'Arhaus', 540.00, 600.00, 660.00),\n      ('Wall Art', 'Large abstract wall art', 'AH-ART-001', 'Arhaus', 480.00, 540.00, 600.00),\n      ('Floor Lamp', 'Modern floor lamp', 'AH-LAMP-FLOOR-001', 'Arhaus', 360.00, 400.00, 440.00),\n      ('Throw Pillows (Set of 4)', 'Luxury throw pillows', 'AH-PILLOW-001', 'Arhaus', 200.00, 225.00, 250.00)\n    ) AS items(name, description, sku, source, raw_purchase, raw_project, raw_market)\n  LOOP\n    v_item_id := 'I-' || v_timestamp || '-' || substr(md5(random()::text), 1, 4);\n    v_qr_key := 'QR-' || v_timestamp || '-' || substr(md5(random()::text), 1, 4);\n    v_raw_purchase := item_data.raw_purchase;\n    v_raw_project := item_data.raw_project;\n    v_raw_market := item_data.raw_market;\n    v_purchase := LEAST(v_raw_purchase, v_raw_project, v_raw_market);\n    v_market := GREATEST(v_raw_purchase, v_raw_project, v_raw_market);\n    v_project_price := v_raw_purchase + v_raw_project + v_raw_market - v_purchase - v_market;\n    v_tax_purchase := ROUND(v_purchase * v_tax_rate_pct / 100.0, 4);\n    v_tax_project := ROUND(v_project_price * v_tax_rate_pct / 100.0, 4);\n    INSERT INTO items (\n      account_id, project_id, transaction_id, item_id, name, description, sku, source,\n      purchase_price, project_price, market_value, tax_rate_pct, tax_amount_purchase_price, tax_amount_project_price,\n      payment_method, disposition, qr_key, inventory_status, date_created, created_by, created_at, last_updated\n    ) VALUES (\n      v_account_id, v_project_id, v_tx_id, v_item_id, item_data.name,\n      item_data.description,\n      item_data.sku, item_data.source,\n      v_purchase::text, v_project_price::text, v_market::text,\n      v_tax_rate_pct, v_tax_purchase::text, v_tax_project::text,\n      'Client Card', 'keep', v_qr_key, 'allocated', CURRENT_DATE - INTERVAL '32 days',\n      v_created_by, NOW(), NOW()\n    );\n    v_item_ids := v_item_ids || v_item_id;\n    v_tx_subtotal := v_tx_subtotal + v_project_price;\n  END LOOP;\n\n  v_tx_tax := ROUND(v_tx_subtotal * v_tax_rate_pct / 100.0, 2);\n  v_tx_total := v_tx_subtotal + v_tx_tax;\n  INSERT INTO transactions (\n    account_id, project_id, transaction_id, transaction_date, source, transaction_type,\n    amount, description, category_id, status, payment_method,\n    tax_rate_pct, subtotal, item_ids, created_by, created_at, updated_at\n  ) VALUES (\n    v_account_id, v_project_id, v_tx_id, CURRENT_DATE - INTERVAL '32 days', 'Arhaus', 'Purchase',\n    v_tx_total::text, 'Accent furniture from Arhaus', v_cat_furnishings, 'completed', 'Client Card',\n    v_tax_rate_pct, v_tx_subtotal::text, v_item_ids,\n    v_created_by, NOW(), NOW()\n  );\nEND $$;\n\n-- Transaction 5: Living Spaces office furniture - $3,200 subtotal\nDO $$\nDECLARE\n  v_account_id UUID := '2d612868-852e-4a80-9d02-9d10383898d4';\n  v_created_by UUID := '4ef35958-597c-4aea-b99e-1ef62352a72d';\n  v_project_id UUID := '2115f472-03a1-4872-aa20-881a24d36389';\n  v_tax_rate_pct NUMERIC := 10.0;\n  v_cat_furnishings UUID := 'ea004cdf-9766-4a0b-974e-499c6dad9c14';\n  v_tx_id TEXT;\n  v_item_id TEXT;\n  v_qr_key TEXT;\n  v_raw_purchase NUMERIC;\n  v_raw_project NUMERIC;\n  v_raw_market NUMERIC;\n  v_purchase NUMERIC;\n  v_project_price NUMERIC;\n  v_market NUMERIC;\n  v_tax_purchase NUMERIC;\n  v_tax_project NUMERIC;\n  v_tx_total NUMERIC;\n  v_tx_subtotal NUMERIC;\n  v_tx_tax NUMERIC;\n  v_item_ids TEXT[];\n  v_timestamp BIGINT;\n  item_data RECORD;\nBEGIN\n  v_timestamp := EXTRACT(EPOCH FROM NOW())::BIGINT * 1000;\n  v_tx_id := gen_random_uuid()::text;\n  v_item_ids := ARRAY[]::text[];\n  v_tx_subtotal := 0;\n\n  FOR item_data IN\n    SELECT *\n    FROM (VALUES\n      ('Desk', 'Modern writing desk, white oak, 60 inches wide', 'LS-DESK-WRITING-001', 'Living Spaces', 580.00, 640.00, 700.00),\n      ('Desk Chair', 'Ergonomic desk chair in charcoal gray', 'LS-CHAIR-DESK-001', 'Living Spaces', 320.00, 360.00, 400.00),\n      ('Bookshelf', '5-shelf bookcase, white oak finish', 'LS-SHELF-BOOK-001', 'Living Spaces', 420.00, 460.00, 500.00),\n      ('Desk Lamp', 'Modern desk lamp', 'LS-LAMP-DESK-001', 'Living Spaces', 120.00, 135.00, 150.00),\n      ('File Cabinet', '2-drawer file cabinet', 'LS-CABINET-FILE-001', 'Living Spaces', 280.00, 320.00, 360.00),\n      ('Wall Shelves (Set of 3)', 'Floating wall shelves', 'LS-SHELF-WALL-001', 'Living Spaces', 180.00, 200.00, 220.00),\n      ('Desk Organizer', 'Desk organizer set', 'LS-ORGANIZER-001', 'Living Spaces', 85.00, 95.00, 105.00),\n      ('Office Chair Mat', 'Clear chair mat', 'LS-MAT-CHAIR-001', 'Living Spaces', 75.00, 85.00, 95.00)\n    ) AS items(name, description, sku, source, raw_purchase, raw_project, raw_market)\n  LOOP\n    v_item_id := 'I-' || v_timestamp || '-' || substr(md5(random()::text), 1, 4);\n    v_qr_key := 'QR-' || v_timestamp || '-' || substr(md5(random()::text), 1, 4);\n    v_raw_purchase := item_data.raw_purchase;\n    v_raw_project := item_data.raw_project;\n    v_raw_market := item_data.raw_market;\n    v_purchase := LEAST(v_raw_purchase, v_raw_project, v_raw_market);\n    v_market := GREATEST(v_raw_purchase, v_raw_project, v_raw_market);\n    v_project_price := v_raw_purchase + v_raw_project + v_raw_market - v_purchase - v_market;\n    v_tax_purchase := ROUND(v_purchase * v_tax_rate_pct / 100.0, 4);\n    v_tax_project := ROUND(v_project_price * v_tax_rate_pct / 100.0, 4);\n    INSERT INTO items (\n      account_id, project_id, transaction_id, item_id, name, description, sku, source,\n      purchase_price, project_price, market_value, tax_rate_pct, tax_amount_purchase_price, tax_amount_project_price,\n      payment_method, disposition, qr_key, inventory_status, date_created, created_by, created_at, last_updated\n    ) VALUES (\n      v_account_id, v_project_id, v_tx_id, v_item_id, item_data.name,\n      item_data.description,\n      item_data.sku, item_data.source,\n      v_purchase::text, v_project_price::text, v_market::text,\n      v_tax_rate_pct, v_tax_purchase::text, v_tax_project::text,\n      'Client Card', 'keep', v_qr_key, 'allocated', CURRENT_DATE - INTERVAL '28 days',\n      v_created_by, NOW(), NOW()\n    );\n    v_item_ids := v_item_ids || v_item_id;\n    v_tx_subtotal := v_tx_subtotal + v_project_price;\n  END LOOP;\n\n  v_tx_tax := ROUND(v_tx_subtotal * v_tax_rate_pct / 100.0, 2);\n  v_tx_total := v_tx_subtotal + v_tx_tax;\n  INSERT INTO transactions (\n    account_id, project_id, transaction_id, transaction_date, source, transaction_type,\n    amount, description, category_id, status, payment_method,\n    tax_rate_pct, subtotal, item_ids, created_by, created_at, updated_at\n  ) VALUES (\n    v_account_id, v_project_id, v_tx_id, CURRENT_DATE - INTERVAL '28 days', 'Living Spaces', 'Purchase',\n    v_tx_total::text, 'Office furniture from Living Spaces', v_cat_furnishings, 'completed', 'Client Card',\n    v_tax_rate_pct, v_tx_subtotal::text, v_item_ids,\n    v_created_by, NOW(), NOW()\n  );\nEND $$;\n\n-- Transaction 6: Target home essentials - $2,800 subtotal\nDO $$\nDECLARE\n  v_account_id UUID := '2d612868-852e-4a80-9d02-9d10383898d4';\n  v_created_by UUID := '4ef35958-597c-4aea-b99e-1ef62352a72d';\n  v_project_id UUID := '2115f472-03a1-4872-aa20-881a24d36389';\n  v_tax_rate_pct NUMERIC := 10.0;\n  v_cat_furnishings UUID := 'ea004cdf-9766-4a0b-974e-499c6dad9c14';\n  v_tx_id TEXT;\n  v_item_id TEXT;\n  v_qr_key TEXT;\n  v_raw_purchase NUMERIC;\n  v_raw_project NUMERIC;\n  v_raw_market NUMERIC;\n  v_purchase NUMERIC;\n  v_project_price NUMERIC;\n  v_market NUMERIC;\n  v_tax_purchase NUMERIC;\n  v_tax_project NUMERIC;\n  v_tx_total NUMERIC;\n  v_tx_subtotal NUMERIC;\n  v_tx_tax NUMERIC;\n  v_item_ids TEXT[];\n  v_timestamp BIGINT;\n  item_data RECORD;\nBEGIN\n  v_timestamp := EXTRACT(EPOCH FROM NOW())::BIGINT * 1000;\n  v_tx_id := gen_random_uuid()::text;\n  v_item_ids := ARRAY[]::text[];\n  v_tx_subtotal := 0;\n\n  FOR item_data IN\n    SELECT *\n    FROM (VALUES\n      ('Bath Towels (Set of 4)', 'Premium bath towels in neutral gray', 'TG-TOWEL-BATH-001', 'Target', 55.00, 62.00, 70.00),\n      ('Shower Curtain', 'Minimalist white shower curtain with chrome hooks', 'TG-CURTAIN-SHOWER-001', 'Target', 38.00, 44.00, 50.00),\n      ('Bath Mat', 'Memory foam bath mat in gray', 'TG-MAT-BATH-001', 'Target', 32.00, 36.00, 40.00),\n      ('Kitchen Utensils Set', 'Stainless steel kitchen utensil set', 'TG-UTENSIL-KITCHEN-001', 'Target', 52.00, 60.00, 68.00),\n      ('Bathroom Accessories Set', 'Complete bathroom accessory set', 'TG-ACCESSORY-BATH-001', 'Target', 85.00, 95.00, 105.00),\n      ('Kitchen Towels (Set of 6)', 'Premium kitchen towels', 'TG-TOWEL-KITCHEN-001', 'Target', 50.00, 55.00, 60.00),\n      ('Throw Blankets (Set of 2)', 'Cozy throw blankets', 'TG-BLANKET-THROW-001', 'Target', 72.00, 80.00, 88.00),\n      ('Storage Baskets (Set of 3)', 'Woven storage baskets', 'TG-BASKET-STORAGE-001', 'Target', 60.00, 68.00, 76.00),\n      ('Wall Clock', 'Minimalist wall clock', 'TG-CLOCK-WALL-001', 'Target', 40.00, 45.00, 50.00),\n      ('Kitchen Canisters (Set of 3)', 'Glass kitchen canisters', 'TG-CANISTER-KITCHEN-001', 'Target', 65.00, 72.00, 80.00)\n    ) AS items(name, description, sku, source, raw_purchase, raw_project, raw_market)\n  LOOP\n    v_item_id := 'I-' || v_timestamp || '-' || substr(md5(random()::text), 1, 4);\n    v_qr_key := 'QR-' || v_timestamp || '-' || substr(md5(random()::text), 1, 4);\n    v_raw_purchase := item_data.raw_purchase;\n    v_raw_project := item_data.raw_project;\n    v_raw_market := item_data.raw_market;\n    v_purchase := LEAST(v_raw_purchase, v_raw_project, v_raw_market);\n    v_market := GREATEST(v_raw_purchase, v_raw_project, v_raw_market);\n    v_project_price := v_raw_purchase + v_raw_project + v_raw_market - v_purchase - v_market;\n    v_tax_purchase := ROUND(v_purchase * v_tax_rate_pct / 100.0, 4);\n    v_tax_project := ROUND(v_project_price * v_tax_rate_pct / 100.0, 4);\n    INSERT INTO items (\n      account_id, project_id, transaction_id, item_id, name, description, sku, source,\n      purchase_price, project_price, market_value, tax_rate_pct, tax_amount_purchase_price, tax_amount_project_price,\n      payment_method, disposition, qr_key, inventory_status, date_created, created_by, created_at, last_updated\n    ) VALUES (\n      v_account_id, v_project_id, v_tx_id, v_item_id, item_data.name,\n      item_data.description,\n      item_data.sku, item_data.source,\n      v_purchase::text, v_project_price::text, v_market::text,\n      v_tax_rate_pct, v_tax_purchase::text, v_tax_project::text,\n      'Client Card', 'keep', v_qr_key, 'allocated', CURRENT_DATE - INTERVAL '25 days',\n      v_created_by, NOW(), NOW()\n    );\n    v_item_ids := v_item_ids || v_item_id;\n    v_tx_subtotal := v_tx_subtotal + v_project_price;\n  END LOOP;\n\n  v_tx_tax := ROUND(v_tx_subtotal * v_tax_rate_pct / 100.0, 2);\n  v_tx_total := v_tx_subtotal + v_tx_tax;\n  INSERT INTO transactions (\n    account_id, project_id, transaction_id, transaction_date, source, transaction_type,\n    amount, description, category_id, status, payment_method,\n    tax_rate_pct, subtotal, item_ids, created_by, created_at, updated_at\n  ) VALUES (\n    v_account_id, v_project_id, v_tx_id, CURRENT_DATE - INTERVAL '25 days', 'Target', 'Purchase',\n    v_tx_total::text, 'Home essentials from Target', v_cat_furnishings, 'completed', 'Client Card',\n    v_tax_rate_pct, v_tx_subtotal::text, v_item_ids,\n    v_created_by, NOW(), NOW()\n  );\nEND $$;\n\n-- Transaction 7: Amazon home accessories - $3,000 subtotal\nDO $$\nDECLARE\n  v_account_id UUID := '2d612868-852e-4a80-9d02-9d10383898d4';\n  v_created_by UUID := '4ef35958-597c-4aea-b99e-1ef62352a72d';\n  v_project_id UUID := '2115f472-03a1-4872-aa20-881a24d36389';\n  v_tax_rate_pct NUMERIC := 10.0;\n  v_cat_furnishings UUID := 'ea004cdf-9766-4a0b-974e-499c6dad9c14';\n  v_tx_id TEXT;\n  v_item_id TEXT;\n  v_qr_key TEXT;\n  v_raw_purchase NUMERIC;\n  v_raw_project NUMERIC;\n  v_raw_market NUMERIC;\n  v_purchase NUMERIC;\n  v_project_price NUMERIC;\n  v_market NUMERIC;\n  v_tax_purchase NUMERIC;\n  v_tax_project NUMERIC;\n  v_tx_total NUMERIC;\n  v_tx_subtotal NUMERIC;\n  v_tx_tax NUMERIC;\n  v_item_ids TEXT[];\n  v_timestamp BIGINT;\n  item_data RECORD;\nBEGIN\n  v_timestamp := EXTRACT(EPOCH FROM NOW())::BIGINT * 1000;\n  v_tx_id := gen_random_uuid()::text;\n  v_item_ids := ARRAY[]::text[];\n  v_tx_subtotal := 0;\n\n  FOR item_data IN\n    SELECT *\n    FROM (VALUES\n      ('Kitchen Towels (Set of 6)', 'Premium cotton kitchen towels in neutral colors', 'AM-KITCHEN-TOWELS-001', 'Amazon', 50.00, 55.00, 60.00),\n      ('Throw Blankets (Set of 2)', 'Cozy throw blankets in gray and beige', 'AM-BLANKET-THROW-001', 'Amazon', 72.00, 80.00, 88.00),\n      ('Storage Baskets (Set of 3)', 'Woven storage baskets for organization', 'AM-BASKET-STORAGE-001', 'Amazon', 60.00, 68.00, 76.00),\n      ('Wall Clock', 'Minimalist wall clock, 12 inch, black', 'AM-CLOCK-WALL-001', 'Amazon', 40.00, 45.00, 50.00),\n      ('Throw Pillows (Set of 4)', 'Decorative throw pillows', 'AM-PILLOW-THROW-001', 'Amazon', 110.00, 125.00, 140.00),\n      ('Wall Art (Set of 3)', 'Abstract canvas prints', 'AM-ART-ABSTRACT-001', 'Amazon', 200.00, 225.00, 250.00),\n      ('Table Lamps (Pair)', 'Modern table lamps', 'AM-LAMP-TABLE-001', 'Amazon', 180.00, 200.00, 220.00),\n      ('Candle Holders (Set of 4)', 'Brass candle holders', 'AM-CANDLE-HOLDER-001', 'Amazon', 85.00, 95.00, 105.00),\n      ('Vases (Set of 3)', 'Ceramic vases', 'AM-VASE-SET-001', 'Amazon', 100.00, 110.00, 120.00),\n      ('Decorative Trays (Set of 2)', 'Decorative serving trays', 'AM-TRAY-DECORATIVE-001', 'Amazon', 75.00, 85.00, 95.00)\n    ) AS items(name, description, sku, source, raw_purchase, raw_project, raw_market)\n  LOOP\n    v_item_id := 'I-' || v_timestamp || '-' || substr(md5(random()::text), 1, 4);\n    v_qr_key := 'QR-' || v_timestamp || '-' || substr(md5(random()::text), 1, 4);\n    v_raw_purchase := item_data.raw_purchase;\n    v_raw_project := item_data.raw_project;\n    v_raw_market := item_data.raw_market;\n    v_purchase := LEAST(v_raw_purchase, v_raw_project, v_raw_market);\n    v_market := GREATEST(v_raw_purchase, v_raw_project, v_raw_market);\n    v_project_price := v_raw_purchase + v_raw_project + v_raw_market - v_purchase - v_market;\n    v_tax_purchase := ROUND(v_purchase * v_tax_rate_pct / 100.0, 4);\n    v_tax_project := ROUND(v_project_price * v_tax_rate_pct / 100.0, 4);\n    INSERT INTO items (\n      account_id, project_id, transaction_id, item_id, name, description, sku, source,\n      purchase_price, project_price, market_value, tax_rate_pct, tax_amount_purchase_price, tax_amount_project_price,\n      payment_method, disposition, qr_key, inventory_status, date_created, created_by, created_at, last_updated\n    ) VALUES (\n      v_account_id, v_project_id, v_tx_id, v_item_id, item_data.name,\n      item_data.description,\n      item_data.sku, item_data.source,\n      v_purchase::text, v_project_price::text, v_market::text,\n      v_tax_rate_pct, v_tax_purchase::text, v_tax_project::text,\n      'Client Card', 'keep', v_qr_key, 'allocated', CURRENT_DATE - INTERVAL '22 days',\n      v_created_by, NOW(), NOW()\n    );\n    v_item_ids := v_item_ids || v_item_id;\n    v_tx_subtotal := v_tx_subtotal + v_project_price;\n  END LOOP;\n\n  v_tx_tax := ROUND(v_tx_subtotal * v_tax_rate_pct / 100.0, 2);\n  v_tx_total := v_tx_subtotal + v_tx_tax;\n  INSERT INTO transactions (\n    account_id, project_id, transaction_id, transaction_date, source, transaction_type,\n    amount, description, category_id, status, payment_method,\n    tax_rate_pct, subtotal, item_ids, created_by, created_at, updated_at\n  ) VALUES (\n    v_account_id, v_project_id, v_tx_id, CURRENT_DATE - INTERVAL '22 days', 'Amazon', 'Purchase',\n    v_tx_total::text, 'Home accessories from Amazon', v_cat_furnishings, 'completed', 'Client Card',\n    v_tax_rate_pct, v_tx_subtotal::text, v_item_ids,\n    v_created_by, NOW(), NOW()\n  );\nEND $$;\n\n"}