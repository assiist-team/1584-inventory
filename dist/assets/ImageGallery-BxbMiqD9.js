import{j as e}from"./index-CX_-pvtV.js";import{r as i}from"./vendor-Gm9i_4Ku.js";import{a as p,o as g,p as w,q as j}from"./ui-eaT6kZG0.js";function k({images:l,initialIndex:x=0,onClose:c}){const[d,r]=i.useState(x),[h,o]=i.useState(!1);i.useEffect(()=>{const t=s=>{switch(s.key){case"Escape":c();break;case"ArrowLeft":s.preventDefault(),r(n=>n>0?n-1:l.length-1);break;case"ArrowRight":s.preventDefault(),r(n=>n<l.length-1?n+1:0);break}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[c,l.length]),i.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const a=l[d],u=()=>{r(t=>t>0?t-1:l.length-1),o(!1)},f=()=>{r(t=>t<l.length-1?t+1:0),o(!1)},b=t=>{if(t===0)return"0 Bytes";const s=1024,n=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(t)/Math.log(s));return(t/Math.pow(s,m)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" "+n[m]};return e.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",children:[e.jsx("button",{onClick:c,className:"absolute top-4 right-4 z-10 p-2 text-white hover:text-gray-300 transition-colors","aria-label":"Close gallery",children:e.jsx(p,{className:"h-6 w-6"})}),l.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:u,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 p-2 text-white hover:text-gray-300 transition-colors","aria-label":"Previous image",children:e.jsx(g,{className:"h-8 w-8"})}),e.jsx("button",{onClick:f,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 p-2 text-white hover:text-gray-300 transition-colors","aria-label":"Next image",children:e.jsx(w,{className:"h-8 w-8"})})]}),e.jsxs("div",{className:"relative max-w-full max-h-full flex items-center justify-center",children:[e.jsx("img",{src:a.url,alt:a.alt||a.fileName,className:"max-w-full max-h-full object-contain",onLoad:()=>o(!0),style:{opacity:h?1:0,transition:"opacity 0.3s ease"}}),!h&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium truncate",children:a.alt||a.fileName}),a.caption&&e.jsx("p",{className:"text-xs text-gray-300 mt-1",children:a.caption}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-gray-400",children:[e.jsxs("span",{children:[d+1," of ",l.length]}),e.jsx("span",{children:b(a.size)}),e.jsx("span",{children:(()=>{try{return new Date(a.uploadedAt).toLocaleDateString()}catch(t){return console.warn("Invalid date for image:",a.uploadedAt,t),"Unknown date"}})()})]})]}),e.jsx("button",{onClick:()=>window.open(a.url,"_blank"),className:"p-2 text-white hover:text-gray-300 transition-colors ml-4","aria-label":"Download image",children:e.jsx(j,{className:"h-4 w-4"})})]})}),l.length>1&&e.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 flex space-x-2",children:l.map((t,s)=>e.jsx("button",{onClick:()=>{r(s),o(!1)},className:`w-2 h-2 rounded-full transition-colors ${s===d?"bg-white":"bg-white bg-opacity-50"}`,"aria-label":`Go to image ${s+1}`},s))})]})}export{k as I};
//# sourceMappingURL=ImageGallery-BxbMiqD9.js.map
