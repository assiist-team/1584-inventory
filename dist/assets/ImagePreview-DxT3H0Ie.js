import{j as r}from"./index-CX_-pvtV.js";import{r as x}from"./vendor-Gm9i_4Ku.js";import{I as v}from"./ImageGallery-BxbMiqD9.js";import{i as C,a as k,P as p}from"./ui-eaT6kZG0.js";function F({images:s,onAddImage:l,onRemoveImage:a,onSetPrimary:o,maxImages:i=5,showControls:u=!0,size:c="md",className:y=""}){const[g,h]=x.useState(!1),[b,m]=x.useState(0),n={sm:"w-20 h-20 sm:w-16 sm:h-16",md:"w-24 h-24 sm:w-20 sm:h-20",lg:"w-28 h-28 sm:w-24 sm:h-24"},f=t=>{m(t),h(!0)},j=()=>{h(!1)},w=(t,e)=>{t.stopPropagation(),a==null||a(e)},N=(t,e)=>{t.stopPropagation(),o==null||o(e)};return s.length===0&&!l?null:r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`space-y-3 ${y}`,children:[s.length>0&&r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-4 md:gap-6",style:{width:"fit-content"},children:[s.map((t,e)=>r.jsxs("div",{className:`${n[c]} relative group cursor-pointer rounded-lg overflow-hidden border-2 ${t.isPrimary?"border-primary-500 ring-2 ring-primary-200":"border-gray-200"}`,onClick:()=>f(e),children:[r.jsx("img",{src:t.url,alt:t.alt||t.fileName,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),t.isPrimary&&r.jsx("div",{className:"absolute top-1 left-1 bg-primary-500 text-white text-xs px-1 py-0.5 rounded",children:"Primary"}),u&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center",children:r.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-1",children:[!t.isPrimary&&o&&r.jsx("button",{onClick:d=>N(d,t.url),className:"p-1 bg-white bg-opacity-90 rounded-full text-gray-700 hover:bg-opacity-100 transition-colors",title:"Set as primary",children:r.jsx(C,{className:"h-3 w-3"})}),a&&r.jsx("button",{onClick:d=>w(d,t.url),className:"p-1 bg-red-500 bg-opacity-90 rounded-full text-white hover:bg-opacity-100 transition-colors",title:"Remove image",children:r.jsx(k,{className:"h-3 w-3"})})]})}),!t.isPrimary&&s.length>1&&r.jsx("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-70 text-white text-xs px-1 py-0.5 rounded",children:e+1})]},t.url)),l&&s.length<i&&r.jsx("button",{onClick:l,className:`${n[c]} border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400 hover:text-gray-600 hover:border-gray-400 transition-colors`,title:"Add image",children:r.jsx(p,{className:"h-5 w-5"})})]}),!s.length&&l&&r.jsx("button",{onClick:l,className:`${n[c]} border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400 hover:text-gray-600 hover:border-gray-400 transition-colors w-full`,title:"Add image",children:r.jsx(p,{className:"h-5 w-5"})}),s.length>0&&r.jsxs("p",{className:"text-xs text-gray-500",children:[s.length," image",s.length!==1?"s":"",i&&` (max ${i})`]})]}),g&&r.jsx(v,{images:s,initialIndex:b,onClose:j})]})}export{F as I};
//# sourceMappingURL=ImagePreview-DxT3H0Ie.js.map
