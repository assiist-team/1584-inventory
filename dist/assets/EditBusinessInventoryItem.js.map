{"version":3,"file":"EditBusinessInventoryItem.js","sources":["../../src/pages/EditBusinessInventoryItem.tsx"],"sourcesContent":["import { useState, useEffect, useMemo, useRef } from 'react'\nimport { useParams, useLocation } from 'react-router-dom'\nimport ContextBackLink from '@/components/ContextBackLink'\nimport { useStackedNavigate } from '@/hooks/useStackedNavigate'\nimport { ArrowLeft, Save, X } from 'lucide-react'\nimport { Item } from '@/types'\nimport { unifiedItemsService } from '@/services/inventoryService'\nimport { useAccount } from '@/contexts/AccountContext'\n\nexport default function EditBusinessInventoryItem() {\n  const { id } = useParams<{ id: string }>()\n  const navigate = useStackedNavigate()\n  const location = useLocation()\n  const { currentAccountId } = useAccount()\n  const [isLoading, setIsLoading] = useState(true)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [item, setItem] = useState<Item | null>(null)\n\n  // Track if user has manually edited project_price\n  const projectPriceEditedRef = useRef(false)\n\n  const [formData, setFormData] = useState<{\n    description: string;\n    source: string;\n    sku: string;\n    purchasePrice: string;\n    projectPrice: string;\n    marketValue: string;\n    disposition: string;\n    notes: string;\n    bookmark: boolean;\n    businessInventoryLocation: string;\n    inventoryStatus: 'available' | 'allocated' | 'sold' | undefined;\n  }>({\n    description: '',\n    source: '',\n    sku: '',\n    purchasePrice: '',\n    projectPrice: '',\n    marketValue: '',\n    disposition: 'inventory',\n    notes: '',\n    bookmark: false,\n    businessInventoryLocation: '',\n    inventoryStatus: 'available' as 'available' | 'allocated' | 'sold' | undefined\n  })\n  const [formErrors, setFormErrors] = useState<Record<string, string>>({})\n\n  // Navigation context logic\n  const backDestination = useMemo(() => {\n    // Check if we have a returnTo parameter\n    const searchParams = new URLSearchParams(location.search)\n    const returnTo = searchParams.get('returnTo')\n    if (returnTo) return returnTo\n\n    // Default fallback\n    return '/business-inventory'\n  }, [location.search])\n\n  useEffect(() => {\n    if (id && currentAccountId) {\n      loadItem()\n    }\n  }, [id, currentAccountId])\n\n  // NOTE: Do not auto-fill projectPrice while the user is typing. Defaulting to\n  // purchasePrice should happen only when the user saves the item.\n\n  const loadItem = async () => {\n    if (!id || !currentAccountId) return\n\n    try {\n      const itemData = await unifiedItemsService.getItemById(currentAccountId, id)\n      if (itemData) {\n        setItem(itemData)\n        setFormData({\n          description: itemData.description,\n          source: itemData.source,\n          sku: itemData.sku,\n          purchasePrice: itemData.purchasePrice || '',\n          projectPrice: itemData.projectPrice || '',\n          marketValue: itemData.marketValue || '',\n          disposition: itemData.disposition === 'keep' ? 'inventory' : (itemData.disposition || 'inventory'),\n          notes: itemData.notes || '',\n          bookmark: itemData.bookmark,\n          businessInventoryLocation: itemData.businessInventoryLocation || '',\n          inventoryStatus: itemData.inventoryStatus\n        })\n      }\n    } catch (error) {\n      console.error('Error loading item:', error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleInputChange = (field: keyof typeof formData, value: string | boolean) => {\n    setFormData(prev => ({ ...prev, [field]: value }))\n\n    // Mark projectPrice as manually edited if user is editing it\n    if (field === 'projectPrice') {\n      projectPriceEditedRef.current = true\n    }\n\n    // Clear error when user starts typing\n    if (formErrors[field]) {\n      setFormErrors(prev => ({ ...prev, [field]: '' }))\n    }\n  }\n\n  const validateForm = () => {\n    const errors: Record<string, string> = {}\n\n    if (!formData.description.trim()) {\n      errors.description = 'Description is required'\n    }\n\n    setFormErrors(errors)\n    return Object.keys(errors).length === 0\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!id || !validateForm() || !currentAccountId) {\n      return\n    }\n\n    setIsSubmitting(true)\n\n    try {\n      // Default projectPrice to purchasePrice only at save time when projectPrice\n      // was left blank by the user.\n      const payload = { ...formData }\n      if (!payload.projectPrice && payload.purchasePrice) {\n        payload.projectPrice = payload.purchasePrice\n      }\n\n      await unifiedItemsService.updateItem(currentAccountId, id, payload)\n      navigate(`/business-inventory/${id}`)\n    } catch (error) {\n      console.error('Error updating item:', error)\n      setFormErrors({ general: 'Error updating item. Please try again.' })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center h-32\">\n        <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600\"></div>\n      </div>\n    )\n  }\n\n  if (!item) {\n    return (\n        <div className=\"text-center py-12 px-4\">\n        <div className=\"mx-auto h-16 w-16 text-gray-400 -mb-1\">ðŸ“¦</div>\n        <h3 className=\"text-lg font-medium text-gray-900 mb-1\">\n          Item not found\n        </h3>\n        <p className=\"text-sm text-gray-500 mb-4\">\n          The item you're looking for doesn't exist or has been deleted.\n        </p>\n        <ContextBackLink\n            fallback={backDestination}\n          className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700\"\n        >\n          Back to Inventory\n        </ContextBackLink>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"space-y-4\">\n        {/* Back button row */}\n        <div className=\"flex items-center justify-between\">\n          <ContextBackLink\n            fallback={backDestination}\n            className=\"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700\"\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-1\" />\n            Back\n          </ContextBackLink>\n        </div>\n      </div>\n\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Edit Item</h1>\n        </div>\n        <div className=\"px-6 py-4\">\n          <form onSubmit={handleSubmit} className=\"space-y-8\">\n            {/* Description */}\n            <div>\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700\">\n                Description *\n              </label>\n              <input\n                type=\"text\"\n                id=\"description\"\n                value={formData.description}\n                onChange={(e) => handleInputChange('description', e.target.value)}\n                placeholder=\"e.g., Vintage leather armchair\"\n                className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${\n                  formErrors.description ? 'border-red-300' : 'border-gray-300'\n                }`}\n              />\n              {formErrors.description && (\n                <p className=\"mt-1 text-sm text-red-600\">{formErrors.description}</p>\n              )}\n            </div>\n\n            {/* Source */}\n            <div>\n              <label htmlFor=\"source\" className=\"block text-sm font-medium text-gray-700\">\n                Source\n              </label>\n              <input\n                type=\"text\"\n                id=\"source\"\n                value={formData.source}\n                onChange={(e) => handleInputChange('source', e.target.value)}\n                placeholder=\"e.g., purchased, found, donated\"\n                className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${\n                  formErrors.source ? 'border-red-300' : 'border-gray-300'\n                }`}\n              />\n              {formErrors.source && (\n                <p className=\"mt-1 text-sm text-red-600\">{formErrors.source}</p>\n              )}\n            </div>\n\n            {/* SKU */}\n            <div>\n              <label htmlFor=\"sku\" className=\"block text-sm font-medium text-gray-700\">\n                SKU\n              </label>\n              <input\n                type=\"text\"\n                id=\"sku\"\n                value={formData.sku}\n                onChange={(e) => handleInputChange('sku', e.target.value)}\n                placeholder=\"e.g., CHR-001\"\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\n              />\n            </div>\n\n            {/* Purchase Price */}\n            <div>\n              <label htmlFor=\"purchasePrice\" className=\"block text-sm font-medium text-gray-700\">\n                Purchase Price\n              </label>\n              <p className=\"text-xs text-gray-500 mt-1 mb-2\">What the item was purchased for</p>\n              <div className=\"mt-1 relative rounded-md shadow-sm\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <span className=\"text-gray-500 sm:text-sm\">$</span>\n                </div>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  id=\"purchasePrice\"\n                  value={formData.purchasePrice}\n                  onChange={(e) => handleInputChange('purchasePrice', e.target.value)}\n                  placeholder=\"0.00\"\n                  className={`block w-full pl-8 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${\n                    formErrors.purchasePrice ? 'border-red-300' : 'border-gray-300'\n                  }`}\n                />\n              </div>\n              {formErrors.purchasePrice && (\n                <p className=\"mt-1 text-sm text-red-600\">{formErrors.purchasePrice}</p>\n              )}\n            </div>\n\n          {/* Project Price */}\n          <div>\n            <label htmlFor=\"projectPrice\" className=\"block text-sm font-medium text-gray-700\">\n              Project Price\n            </label>\n            <p className=\"text-xs text-gray-500 mt-1 mb-2\">What the client is charged (defaults to purchase price)</p>\n            <div className=\"mt-1 relative rounded-md shadow-sm\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <span className=\"text-gray-500 sm:text-sm\">$</span>\n              </div>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                id=\"projectPrice\"\n                value={formData.projectPrice}\n                onChange={(e) => handleInputChange('projectPrice', e.target.value)}\n                placeholder=\"0.00\"\n                className={`block w-full pl-8 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${\n                  formErrors.projectPrice ? 'border-red-300' : 'border-gray-300'\n                }`}\n              />\n            </div>\n            {formErrors.projectPrice && (\n              <p className=\"mt-1 text-sm text-red-600\">{formErrors.projectPrice}</p>\n            )}\n          </div>\n\n            {/* Market Value */}\n            <div>\n              <label htmlFor=\"marketValue\" className=\"block text-sm font-medium text-gray-700\">\n                Market Value\n              </label>\n              <p className=\"text-xs text-gray-500 mt-1 mb-2\">The fair market value of the item</p>\n              <div className=\"mt-1 relative rounded-md shadow-sm\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <span className=\"text-gray-500 sm:text-sm\">$</span>\n                </div>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  id=\"marketValue\"\n                  value={formData.marketValue}\n                  onChange={(e) => handleInputChange('marketValue', e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"mt-1 block w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\n                />\n              </div>\n            </div>\n\n            {/* Storage Location */}\n            <div>\n              <label htmlFor=\"businessInventoryLocation\" className=\"block text-sm font-medium text-gray-700\">\n                Storage Location\n              </label>\n              <input\n                type=\"text\"\n                id=\"businessInventoryLocation\"\n                value={formData.businessInventoryLocation}\n                onChange={(e) => handleInputChange('businessInventoryLocation', e.target.value)}\n                placeholder=\"e.g., Warehouse A - Section 3 - Shelf 5\"\n                className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${\n                  formErrors.businessInventoryLocation ? 'border-red-300' : 'border-gray-300'\n                }`}\n              />\n              {formErrors.businessInventoryLocation && (\n                <p className=\"mt-1 text-sm text-red-600\">{formErrors.businessInventoryLocation}</p>\n              )}\n            </div>\n \n            {/* Disposition */}\n            <div>\n              <label htmlFor=\"disposition\" className=\"block text-sm font-medium text-gray-700\">\n                Disposition\n              </label>\n              <p className=\"text-xs text-gray-500 mt-1 mb-2\">What should happen to this item in business inventory</p>\n              <div className=\"mt-1\">\n                <select\n                  id=\"disposition\"\n                  value={formData.disposition}\n                  onChange={(e) => handleInputChange('disposition', e.target.value)}\n                  className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\n                >\n                  <option value=\"to return\">To Return</option>\n                  <option value=\"returned\">Returned</option>\n                  <option value=\"inventory\">Inventory</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Notes */}\n            <div>\n              <label htmlFor=\"notes\" className=\"block text-sm font-medium text-gray-700\">\n                Notes\n              </label>\n              <textarea\n                id=\"notes\"\n                rows={3}\n                value={formData.notes}\n                onChange={(e) => handleInputChange('notes', e.target.value)}\n                placeholder=\"Additional notes about this item...\"\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\n              />\n            </div>\n\n            {/* Inventory Status */}\n            <div>\n              <label htmlFor=\"inventoryStatus\" className=\"block text-sm font-medium text-gray-700\">\n                Inventory Status\n              </label>\n            <select\n                id=\"inventoryStatus\"\n                value={formData.inventoryStatus}\n                onChange={(e) => handleInputChange('inventoryStatus', e.target.value)}\n                className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n              >\n                <option value=\"available\">Available</option>\n                <option value=\"allocated\">Allocated</option>\n                <option value=\"sold\">Sold</option>\n              </select>\n              {item.projectId && (\n                <div className=\"mt-4 p-4 bg-yellow-50 rounded-md\">\n                  <p className=\"text-sm text-yellow-800\">\n                    <strong>Note:</strong> This item is currently allocated to project {item.projectId}.\n                    Changing the status may affect the pending transaction.\n                  </p>\n                </div>\n              )}\n            </div>\n\n            {/* Bookmark */}\n            <div className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                id=\"bookmark\"\n                checked={formData.bookmark}\n                onChange={(e) => handleInputChange('bookmark', e.target.checked)}\n                className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n              />\n              <label htmlFor=\"bookmark\" className=\"ml-2 block text-sm text-gray-700\">\n                Bookmark this item\n              </label>\n            </div>\n\n            {/* Error message */}\n            {formErrors.general && (\n              <div className=\"bg-red-50 border border-red-200 rounded-md p-3\">\n                <p className=\"text-sm text-red-600\">{formErrors.general}</p>\n              </div>\n            )}\n\n            {/* Form Actions - Desktop */}\n            <div className=\"hidden sm:flex justify-end sm:space-x-3 pt-4\">\n            <ContextBackLink\n              fallback={backDestination}\n              className=\"inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n            >\n              <X className=\"h-4 w-4 mr-2\" />\n              Cancel\n            </ContextBackLink>\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className=\"inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <Save className=\"h-4 w-4 mr-2\" />\n                {isSubmitting ? 'Updating Item...' : 'Update Item'}\n              </button>\n            </div>\n          </form>\n        </div>\n\n        {/* Sticky mobile action bar */}\n        <div className=\"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50\">\n          <div className=\"flex space-x-3\">\n            <ContextBackLink\n              fallback={backDestination}\n              className=\"flex-1 inline-flex justify-center items-center px-4 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n            >\n              <X className=\"h-4 w-4 mr-2\" />\n              Cancel\n            </ContextBackLink>\n            <button\n              type=\"submit\"\n              disabled={isSubmitting}\n              onClick={(e) => {\n                // Find the form and submit it\n                const form = e.currentTarget.closest('.space-y-6')?.querySelector('form') as HTMLFormElement\n                if (form) {\n                  form.requestSubmit()\n                }\n              }}\n              className=\"flex-1 inline-flex justify-center items-center px-4 py-3 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <Save className=\"h-4 w-4 mr-2\" />\n              {isSubmitting ? 'Updating...' : 'Update'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Add bottom padding to account for sticky bar on mobile */}\n      <div className=\"sm:hidden h-20\"></div>\n    </div>\n  )\n}\n"],"names":["EditBusinessInventoryItem","id","useParams","navigate","useStackedNavigate","location","useLocation","currentAccountId","useAccount","isLoading","setIsLoading","useState","isSubmitting","setIsSubmitting","item","setItem","projectPriceEditedRef","useRef","formData","setFormData","formErrors","setFormErrors","backDestination","useMemo","returnTo","useEffect","loadItem","itemData","unifiedItemsService","error","handleInputChange","field","value","prev","validateForm","errors","handleSubmit","e","payload","jsx","jsxs","ContextBackLink","ArrowLeft","X","Save","form","_a"],"mappings":"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"}