import{a as G,j as e}from"./index.js";import{L as j,u as O,b as H,c as V}from"./router.js";import{r as c}from"./vendor.js";import{i as w,t as I,p as L}from"./inventoryService.js";import{I as W}from"./imageService.js";import{P as F,l as X,f as J,T as Q,R as q,B as K,k as Y,d as U,e as Z,m as ee,g as se}from"./ui.js";import{a as te,f as re}from"./dateUtils.js";import{B as ae,P as ne}from"./BudgetProgress.js";import"./firebase.js";function oe({projectId:n,projectName:g}){const[l,f]=c.useState(""),[r,y]=c.useState(new Set),[m,i]=c.useState([]),[u,v]=c.useState(!0),[b,p]=c.useState(null),[_,N]=c.useState(new Set),{showSuccess:A,showError:S}=G();c.useEffect(()=>{(async()=>{try{v(!0),p(null),console.log("Fetching items for project:",n);const a=await w.getItems(n);console.log("Fetched items:",a.length,a),i(a)}catch(a){console.error("Failed to fetch items:",a),p("Failed to load inventory items. Please try again.")}finally{v(!1)}})();const t=w.subscribeToItems(n,a=>{console.log("Real-time items update:",a.length,a),i(a)});return()=>{t()}},[n]),c.useEffect(()=>()=>{N(new Set)},[]);const P=s=>{y(s?new Set(m.map(t=>t.item_id)):new Set)},T=(s,t)=>{const a=new Set(r);t?a.add(s):a.delete(s),y(a)},$=async s=>{try{const t=m.find(o=>o.item_id===s);if(!t)return;const a=!t.bookmark;await w.updateItem(n,s,{bookmark:a}),i(m.map(o=>o.item_id===s?{...o,bookmark:a}:o))}catch(t){console.error("Failed to update bookmark:",t),p("Failed to update bookmark. Please try again.")}},C=async s=>{try{const t=m.find(o=>o.item_id===s);if(!t)return;const a=t.disposition==="return"?"keep":"return";await w.updateItem(n,s,{disposition:a}),i(m.map(o=>o.item_id===s?{...o,disposition:a}:o))}catch(t){console.error("Failed to update disposition:",t),p("Failed to update item disposition. Please try again.")}},z=async s=>{if(confirm("Are you sure you want to delete this item? This action cannot be undone."))try{await w.deleteItem(n,s),y(t=>{const a=new Set(t);return a.delete(s),a}),p(null)}catch(t){console.error("Failed to delete item:",t),p("Failed to delete item. Please try again.")}},D=async s=>{var t,a;try{N(h=>new Set(h).add(s));const o=await W.selectFromGallery();if(o.length>0)for(let h=0;h<o.length;h++){const k=o[h];await B(s,k,o)}}catch(o){if(console.error("Error adding image:",o),(t=o.message)!=null&&t.includes("timeout")||(a=o.message)!=null&&a.includes("canceled")){console.log("User canceled image selection or selection timed out");return}S("Failed to add image. Please try again.")}finally{N(o=>{const h=new Set(o);return h.delete(s),h})}},B=async(s,t,a)=>{const h={url:(await W.uploadItemImage(t,g,s)).url,alt:t.name,isPrimary:!0,uploadedAt:new Date,fileName:t.name,size:t.size,mimeType:t.type};if(await w.addItemImage(n,s,h),a&&a.indexOf(t)===a.length-1){const k=a.length>1?`${a.length} images uploaded successfully!`:"Image uploaded successfully!";A(k)}},R=async()=>{if(r.size===0)return;const s=`Are you sure you want to delete ${r.size} item(s)? This action cannot be undone.`;if(confirm(s))try{const t=Array.from(r).map(a=>w.deleteItem(n,a));await Promise.all(t),y(new Set),p(null)}catch(t){console.error("Failed to delete items:",t),p("Failed to delete some items. Please try again.")}},E=m.filter(s=>s.description.toLowerCase().includes(l.toLowerCase())||s.source.toLowerCase().includes(l.toLowerCase())||s.sku.toLowerCase().includes(l.toLowerCase())||s.payment_method.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Project Inventory"}),e.jsxs(j,{to:`/project/${n}/item/add`,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors duration-200 w-full sm:w-auto",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(X,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-base",placeholder:"Search items...",value:l,onChange:s=>f(s.target.value)})]}),e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 transition-colors duration-200",disabled:r.size===0,children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Generate QR"]}),e.jsxs("button",{onClick:R,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200",disabled:r.size===0,children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 h-4 w-4",onChange:s=>P(s.target.checked),checked:r.size===m.length&&m.length>0}),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Select all"})]}),r.size>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:[r.size," of ",m.length," selected"]})]}),u&&e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-400 animate-spin mb-4",children:e.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading inventory..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Fetching your project items."})]}),b&&e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-red-400 mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Error loading inventory"}),e.jsx("p",{className:"text-sm text-red-500 mb-6 max-w-sm mx-auto",children:b}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-red-600 hover:bg-red-700 transition-colors duration-200 w-full sm:w-auto max-w-xs",children:[e.jsx(q,{className:"h-5 w-5 mr-2"}),"Retry"]})]}),!u&&!b&&E.length===0?e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",children:"üì¶"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No items found"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:l?"Try adjusting your search terms.":"Add your first item to this project inventory."}),!l&&e.jsxs(j,{to:`/project/${n}/item/add`,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors duration-200 w-full sm:w-auto max-w-xs",children:[e.jsx(F,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}):!u&&!b&&e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:E.map(s=>e.jsx("li",{className:"relative",children:e.jsx("div",{className:"block transition-colors duration-200 hover:bg-gray-50 active:bg-gray-100",children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 h-4 w-4 flex-shrink-0",checked:r.has(s.item_id),onChange:t=>T(s.item_id,t.target.checked)})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),$(s.item_id)},className:`p-2 rounded-full transition-colors ${s.bookmark?"text-red-600 bg-red-50":"text-gray-400 hover:text-gray-600 hover:bg-gray-200"}`,children:e.jsx(K,{className:"h-4 w-4",fill:s.bookmark?"currentColor":"none"})}),e.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),C(s.item_id)},className:`p-2 rounded-full transition-colors ${s.disposition==="return"?"text-red-600 bg-red-50":"text-gray-400 hover:text-gray-600 hover:bg-gray-200"}`,children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),D(s.item_id)},disabled:_.has(s.item_id),className:"p-2 rounded-full text-primary-600 hover:text-primary-700 hover:bg-primary-50 transition-colors disabled:opacity-50",title:"Add image (camera or gallery)",children:e.jsx(Y,{className:"h-4 w-4"})}),e.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),z(s.item_id)},className:"p-2 rounded-full text-red-600 hover:text-red-700 hover:bg-red-200 transition-colors",children:e.jsx(Q,{className:"h-4 w-4"})})]})]}),e.jsx(j,{to:`/item/${s.item_id}?project=${n}`,className:"block",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900",children:s.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-500",children:[s.price&&e.jsxs("span",{className:"font-medium text-gray-700",children:["$",s.price]}),s.source&&e.jsxs(e.Fragment,{children:[s.price&&e.jsx("span",{className:"hidden sm:inline",children:"‚Ä¢"}),e.jsx("span",{className:"font-medium text-gray-700",children:s.source})]}),s.sku&&e.jsxs(e.Fragment,{children:[(s.price||s.source)&&e.jsx("span",{className:"hidden sm:inline",children:"‚Ä¢"}),e.jsx("span",{className:"font-medium text-gray-700",children:s.sku})]})]}),e.jsx("div",{className:"sm:hidden",children:s.notes&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.notes})}),e.jsx("div",{className:"hidden sm:flex items-center text-sm text-gray-600",children:s.notes&&e.jsx("p",{className:"truncate max-w-xs",children:s.notes})})]})})]})})},s.item_id))})})]})}const M=()=>{document.querySelectorAll(".no-icon").forEach(g=>{Array.from(g.childNodes).forEach(f=>{f.nodeType!==Node.TEXT_NODE&&g.removeChild(f)})})};function ie({projectId:n}){const{id:g}=O(),l=n||g,[f,r]=c.useState([]),[y,m]=c.useState(!0);return c.useEffect(()=>{(async()=>{if(!l){m(!1);return}try{const u=await I.getTransactions(l);r(u)}catch(u){console.error("Error loading transactions:",u),r([])}finally{m(!1)}})()},[l]),c.useEffect(()=>l?I.subscribeToTransactions(l,u=>{r(u)}):void 0,[l]),c.useEffect(()=>{M();const i=setTimeout(M,100),u=setTimeout(M,500);return()=>{clearTimeout(i),clearTimeout(u)}},[f]),y?e.jsx("div",{className:"flex justify-center items-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Transactions"}),e.jsxs(j,{to:`/project/${l}/transaction/add`,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors duration-200 w-full sm:w-auto",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})]}),f.length===0?e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",children:"üßæ"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No transactions yet"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-sm mx-auto",children:"Add your first transaction to track purchases and returns."}),e.jsxs(j,{to:`/project/${l}/transaction/add`,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors duration-200 w-full sm:w-auto max-w-xs",children:[e.jsx(F,{className:"h-5 w-5 mr-2"}),"Add Transaction"]})]}):e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:f.map(i=>e.jsx("li",{className:"relative",children:e.jsx(j,{to:`/project/${l}/transaction/${i.transaction_id}`,className:"block transition-colors duration-200 hover:bg-gray-50 active:bg-gray-100",children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900",children:i.source}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium no-icon ${i.transaction_type==="Purchase"?"bg-green-100 text-green-800":i.transaction_type==="Return"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:i.transaction_type})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-1 text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium text-gray-700",children:te(i.amount)}),e.jsx("span",{className:"hidden sm:inline",children:"‚Ä¢"}),e.jsx("span",{className:"font-medium text-gray-700 capitalize",children:i.payment_method}),e.jsx("span",{className:"hidden sm:inline",children:"‚Ä¢"}),e.jsx("span",{className:"font-medium text-gray-700",children:re(i.transaction_date)})]}),i.notes&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:i.notes})]})]})})},i.transaction_id))})})]})}function fe(){var k;const{id:n}=O(),g=H(),[l,f]=V(),[r,y]=c.useState(null),[m,i]=c.useState([]),[u,v]=c.useState(!0),[b,p]=c.useState(null),[_,N]=c.useState(!1),[A,S]=c.useState(!1),[P,T]=c.useState(!1),{showError:$}=G(),C=l.get("tab")||"inventory",z=d=>{const x=new URLSearchParams(l);x.set("tab",d),f(x)},D=async()=>{if(!n){console.warn("No project ID provided, redirecting to projects"),g("/projects");return}v(!0);try{console.log("Loading project data for ID:",n);const d=await L.getProject(n);if(d){console.log("Project loaded successfully:",d.name),y(d);const x=await I.getTransactions(n);console.log("Transactions loaded:",x.length),i(x)}else console.warn("Project not found:",n),g("/projects")}catch(d){console.error("Error loading project:",d),p("Failed to load project. Please try again."),v(!1)}finally{v(!1)}};c.useEffect(()=>{D()},[n,g]);const B=()=>{p(null),D()};c.useEffect(()=>n?I.subscribeToTransactions(n,x=>{i(x)}):void 0,[n]);const R=async d=>{if(!(!r||!n))try{await L.updateProject(n,d);const x=await L.getProject(n);y(x),N(!1)}catch(x){throw console.error("Error updating project:",x),x}},E=()=>{N(!0)},s=()=>{N(!1)},t=()=>{S(!0)},a=()=>{S(!1)},o=async()=>{if(n){T(!0);try{await L.deleteProject(n),g("/projects")}catch(d){console.error("Error deleting project:",d),T(!1),S(!1),$("Failed to delete project. Please try again.")}}},h=[{id:"inventory",name:"Inventory",icon:ee},{id:"transactions",name:"Transactions",icon:se}];return u?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading project..."})]})}):b?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-red-400",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Error Loading Project"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:b}),e.jsxs("div",{className:"mt-6 flex justify-center space-x-3",children:[e.jsx("button",{onClick:B,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:"Try Again"}),e.jsxs(j,{to:"/projects",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})]})]}):r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(j,{to:"/projects",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[e.jsx(U,{className:"h-4 w-4 mr-1"}),"Back"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:E,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs("button",{onClick:t,className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.name}),r.clientName&&e.jsx("p",{className:"text-lg text-gray-600 mb-4",children:r.clientName}),(r.budget||r.designFee)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.budget&&e.jsx("div",{className:"flex items-center text-sm text-gray-600",children:e.jsxs("span",{children:["Budget: ",r.budget.toLocaleString("en-US",{style:"currency",currency:"USD"})]})}),r.designFee&&e.jsx("div",{className:"flex items-center text-sm text-gray-600",children:e.jsxs("span",{children:["Design Fee: ",r.designFee.toLocaleString("en-US",{style:"currency",currency:"USD"})]})})]})]})]}),r&&e.jsx(ae,{budget:r.budget,designFee:r.designFee,transactions:m}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:h.map(d=>{const x=d.icon;return e.jsxs("button",{onClick:()=>z(d.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${C===d.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),d.name]},d.id)})})}),e.jsxs("div",{className:"px-6 py-6",children:[C==="inventory"&&e.jsx(oe,{projectId:r.id,projectName:r.name}),C==="transactions"&&e.jsx(ie,{projectId:r.id})]})]}),_&&r&&e.jsx(ne,{initialData:{name:r.name,description:r.description,clientName:r.clientName,budget:r.budget,designFee:r.designFee},onSubmit:R,onCancel:s}),A&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete"}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Are you sure you want to delete the project ",e.jsxs("strong",{children:['"',r==null?void 0:r.name,'"']}),"? This action cannot be undone and will permanently delete the project and all associated data."]}),r&&((k=r.metadata)==null?void 0:k.totalItems)&&r.metadata.totalItems>0&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-1 text-sm text-yellow-700",children:e.jsxs("p",{children:["This project contains ",r.metadata.totalItems," item(s). Deleting the project will permanently remove all associated data."]})})]})})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:a,disabled:P,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:P,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:P?"Deleting...":"Delete"})]})]})]})})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:"üìÅ"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Project not found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The project you're looking for doesn't exist."}),e.jsx("div",{className:"mt-6",children:e.jsxs(j,{to:"/projects",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})})]})}export{fe as default};
//# sourceMappingURL=ProjectDetail.js.map
