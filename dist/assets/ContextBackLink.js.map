{"version":3,"file":"ContextBackLink.js","sources":["../../src/components/ContextBackLink.tsx"],"sourcesContent":["import React from 'react'\nimport { useNavigate, useLocation } from 'react-router-dom'\nimport { useNavigationStack } from '@/contexts/NavigationStackContext'\n\ninterface ContextBackLinkProps {\n  fallback: string\n  className?: string\n  children?: React.ReactNode\n  title?: string\n}\n\nexport default function ContextBackLink({ fallback, className, children, title }: ContextBackLinkProps) {\n  const navigate = useNavigate()\n  const location = useLocation()\n  const navigationStack = useNavigationStack()\n\n  const handleClick = (e: React.MouseEvent) => {\n    e.preventDefault()\n    try {\n      const target = navigationStack.pop(location.pathname + location.search) || fallback\n      navigate(target)\n    } catch {\n      // fallback if stack not available\n      navigate(fallback)\n    }\n  }\n\n  return (\n    // use an anchor so keyboard/assistive tech recognize it as a link\n    <a href={fallback} onClick={handleClick} className={className} title={title}>\n      {children}\n    </a>\n  )\n}\n\n\n"],"names":["ContextBackLink","fallback","className","children","title","navigate","useNavigate","location","useLocation","navigationStack","useNavigationStack","handleClick","e","target","jsx"],"mappings":"6EAWA,SAAwBA,EAAgB,CAAE,SAAAC,EAAU,UAAAC,EAAW,SAAAC,EAAU,MAAAC,GAA+B,CACtG,MAAMC,EAAWC,EAAA,EACXC,EAAWC,EAAA,EACXC,EAAkBC,EAAA,EAElBC,EAAeC,GAAwB,CAC3CA,EAAE,eAAA,EACF,GAAI,CACF,MAAMC,EAASJ,EAAgB,IAAIF,EAAS,SAAWA,EAAS,MAAM,GAAKN,EAC3EI,EAASQ,CAAM,CACjB,MAAQ,CAENR,EAASJ,CAAQ,CACnB,CACF,EAEA,OAEEa,MAAC,KAAE,KAAMb,EAAU,QAASU,EAAa,UAAAT,EAAsB,MAAAE,EAC5D,SAAAD,CAAA,CACH,CAEJ"}