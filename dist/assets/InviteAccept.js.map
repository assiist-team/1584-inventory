{"version":3,"file":"InviteAccept.js","sources":["../../src/pages/InviteAccept.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { signInWithGoogle, signUpWithEmailPassword, supabase } from '../services/supabase'\nimport { getInvitationByToken } from '../services/supabase'\nimport { UserRole } from '../types'\nimport { Mail, Shield, Users, AlertCircle, Eye, EyeOff } from 'lucide-react'\n\nexport default function InviteAccept() {\n  const { token } = useParams<{ token: string }>()\n  const navigate = useNavigate()\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [invitation, setInvitation] = useState<{\n    email: string;\n    role: UserRole;\n  } | null>(null)\n  const [signupMethod, setSignupMethod] = useState<'google' | 'email'>('google')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [showPassword, setShowPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n  const [signingUp, setSigningUp] = useState(false)\n  const [emailVerificationSent, setEmailVerificationSent] = useState(false)\n\n  useEffect(() => {\n    const checkInvitation = async () => {\n      if (!token) {\n        setError('Invalid invitation link')\n        setLoading(false)\n        return\n      }\n\n      // Add timeout to prevent hanging\n      const timeoutId = setTimeout(() => {\n        console.error('Invitation check timeout')\n        setError('Request timed out. Please try again.')\n        setLoading(false)\n      }, 10000) // 10 second timeout\n\n      try {\n        const inv = await getInvitationByToken(token)\n        clearTimeout(timeoutId)\n        \n        if (!inv) {\n          setError('Invitation not found or has expired')\n          setLoading(false)\n          return\n        }\n\n        // Store token in localStorage so we can check it after OAuth redirect\n        localStorage.setItem('pendingInvitationToken', token)\n        setInvitation({\n          email: inv.email,\n          role: inv.role\n        })\n        // Pre-fill email for email/password signup\n        setEmail(inv.email)\n        setLoading(false)\n      } catch (err) {\n        clearTimeout(timeoutId)\n        console.error('Error checking invitation:', err)\n        setError('Failed to verify invitation. Please try again.')\n        setLoading(false)\n      }\n    }\n\n    checkInvitation()\n  }, [token])\n\n  const handleSignUp = async () => {\n    if (!token) return\n    \n    try {\n      // Token is already stored in localStorage from useEffect\n      // Redirect to Google OAuth\n      await signInWithGoogle()\n      // The OAuth redirect will happen, and AuthCallback will handle accepting the invitation\n    } catch (err) {\n      console.error('Error initiating sign up:', err)\n      setError('Failed to start sign up process')\n    }\n  }\n\n  const handleEmailPasswordSignup = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!token) return\n\n    // Validation\n    if (!email.trim()) {\n      setError('Email is required')\n      return\n    }\n    if (!password) {\n      setError('Password is required')\n      return\n    }\n    if (password.length < 6) {\n      setError('Password must be at least 6 characters')\n      return\n    }\n    if (password !== confirmPassword) {\n      setError('Passwords do not match')\n      return\n    }\n\n    try {\n      setSigningUp(true)\n      setError(null)\n      \n      // Token is already stored in localStorage from useEffect\n      await signUpWithEmailPassword(email.trim(), password)\n      \n      // Check if email confirmation is required\n      // If session is null, email confirmation is required\n      const { data: { session } } = await supabase.auth.getSession()\n      if (!session) {\n        setEmailVerificationSent(true)\n      } else {\n        // If session exists, redirect to callback to process invitation\n        navigate('/auth/callback')\n      }\n    } catch (err: any) {\n      console.error('Error signing up:', err)\n      setError(err.message || 'Failed to create account')\n    } finally {\n      setSigningUp(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Verifying invitation...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\n        <div className=\"max-w-md w-full bg-white shadow-lg rounded-lg p-6\">\n          <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4\">\n            <AlertCircle className=\"h-6 w-6 text-red-600\" />\n          </div>\n          <h2 className=\"text-xl font-semibold text-gray-900 text-center mb-2\">\n            Invalid Invitation\n          </h2>\n          <p className=\"text-gray-600 text-center mb-6\">{error}</p>\n          <button\n            onClick={() => navigate('/')}\n            className=\"w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700\"\n          >\n            Go to Home\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  if (emailVerificationSent) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\n        <div className=\"max-w-md w-full bg-white shadow-lg rounded-lg p-6\">\n          <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-blue-100 rounded-full mb-4\">\n            <Mail className=\"h-6 w-6 text-blue-600\" />\n          </div>\n          <h2 className=\"text-xl font-semibold text-gray-900 text-center mb-2\">\n            Check Your Email\n          </h2>\n          <p className=\"text-gray-600 text-center mb-6\">\n            We've sent a verification email to <span className=\"font-medium\">{email}</span>. \n            Please click the link in the email to verify your account and complete your invitation acceptance.\n          </p>\n          <p className=\"text-xs text-gray-500 text-center mb-4\">\n            The invitation link will be processed automatically after you verify your email.\n          </p>\n          <button\n            onClick={() => navigate('/')}\n            className=\"w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700\"\n          >\n            Go to Home\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  if (!invitation) {\n    return null\n  }\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\n      <div className=\"max-w-md w-full bg-white shadow-lg rounded-lg p-6\">\n        <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-primary-100 rounded-full mb-4\">\n          <Mail className=\"h-6 w-6 text-primary-600\" />\n        </div>\n        <h2 className=\"text-xl font-semibold text-gray-900 text-center mb-2\">\n          You've Been Invited!\n        </h2>\n        <p className=\"text-gray-600 text-center mb-6\">\n          <span className=\"font-medium\">{invitation.email}</span> has been invited to join the team as{' '}\n          <span className=\"font-medium\">\n            {invitation.role === UserRole.ADMIN ? 'an Admin' : 'a User'}\n          </span>\n        </p>\n        <div className=\"flex items-center justify-center mb-6\">\n          {invitation.role === UserRole.ADMIN ? (\n            <Shield className=\"h-5 w-5 text-blue-500\" />\n          ) : (\n            <Users className=\"h-5 w-5 text-gray-500\" />\n          )}\n        </div>\n\n        {/* Signup Method Tabs */}\n        <div className=\"mb-6\">\n          <div className=\"flex border-b border-gray-200\">\n            <button\n              onClick={() => {\n                setSignupMethod('google')\n                setError(null)\n              }}\n              className={`flex-1 py-2 px-4 text-sm font-medium text-center border-b-2 transition-colors ${\n                signupMethod === 'google'\n                  ? 'border-primary-600 text-primary-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              Google\n            </button>\n            <button\n              onClick={() => {\n                setSignupMethod('email')\n                setError(null)\n              }}\n              className={`flex-1 py-2 px-4 text-sm font-medium text-center border-b-2 transition-colors ${\n                signupMethod === 'email'\n                  ? 'border-primary-600 text-primary-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              Email & Password\n            </button>\n          </div>\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"mb-4 bg-red-50 border border-red-200 rounded-md p-3\">\n            <div className=\"flex items-center\">\n              <AlertCircle className=\"h-4 w-4 text-red-600 mr-2\" />\n              <p className=\"text-sm text-red-600\">{error}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Google Signup */}\n        {signupMethod === 'google' && (\n          <>\n            <button\n              onClick={handleSignUp}\n              className=\"w-full bg-primary-600 text-white py-3 px-4 rounded-md hover:bg-primary-700 font-medium flex items-center justify-center space-x-2\"\n            >\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                <path\n                  fill=\"currentColor\"\n                  d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                />\n                <path\n                  fill=\"currentColor\"\n                  d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                />\n                <path\n                  fill=\"currentColor\"\n                  d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n                />\n                <path\n                  fill=\"currentColor\"\n                  d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                />\n              </svg>\n              <span>Sign up with Google</span>\n            </button>\n          </>\n        )}\n\n        {/* Email/Password Signup */}\n        {signupMethod === 'email' && (\n          <form onSubmit={handleEmailPasswordSignup} className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Email Address\n              </label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-3 py-2 border\"\n                placeholder=\"user@example.com\"\n                required\n                disabled={signingUp}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Password\n              </label>\n              <div className=\"relative\">\n                <input\n                  id=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-3 py-2 border pr-10\"\n                  placeholder=\"Enter password\"\n                  required\n                  disabled={signingUp}\n                  minLength={6}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\"\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-4 w-4\" />\n                  ) : (\n                    <Eye className=\"h-4 w-4\" />\n                  )}\n                </button>\n              </div>\n              <p className=\"mt-1 text-xs text-gray-500\">Must be at least 6 characters</p>\n            </div>\n            <div>\n              <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Confirm Password\n              </label>\n              <div className=\"relative\">\n                <input\n                  id=\"confirmPassword\"\n                  type={showConfirmPassword ? 'text' : 'password'}\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-3 py-2 border pr-10\"\n                  placeholder=\"Confirm password\"\n                  required\n                  disabled={signingUp}\n                  minLength={6}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\"\n                >\n                  {showConfirmPassword ? (\n                    <EyeOff className=\"h-4 w-4\" />\n                  ) : (\n                    <Eye className=\"h-4 w-4\" />\n                  )}\n                </button>\n              </div>\n            </div>\n            <button\n              type=\"submit\"\n              disabled={signingUp || !email.trim() || !password || password !== confirmPassword}\n              className=\"w-full bg-primary-600 text-white py-3 px-4 rounded-md hover:bg-primary-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {signingUp ? 'Creating Account...' : 'Create Account'}\n            </button>\n          </form>\n        )}\n\n        <p className=\"text-xs text-gray-500 text-center mt-4\">\n          By signing up, you'll be automatically added to the team with the assigned role.\n        </p>\n      </div>\n    </div>\n  )\n}\n\n"],"names":["InviteAccept","token","useParams","navigate","useNavigate","loading","setLoading","useState","error","setError","invitation","setInvitation","signupMethod","setSignupMethod","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","signingUp","setSigningUp","emailVerificationSent","setEmailVerificationSent","useEffect","timeoutId","inv","getInvitationByToken","err","handleSignUp","signInWithGoogle","handleEmailPasswordSignup","e","signUpWithEmailPassword","session","supabase","jsxs","jsx","AlertCircle","Mail","UserRole","Shield","Users","Fragment","EyeOff","Eye"],"mappings":"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"}