import{u as G,U as Q,j as e}from"./index.js";import{b as X,c as H,L as J}from"./router.js";import{r as u}from"./vendor.js";import{T as E}from"./transactionSources.js";import{transactionService as P,projectService as Z,unifiedItemsService as F}from"./inventoryService.js";import{I as $}from"./imageService.js";import{I as ee}from"./ImageUpload.js";import{o as te,e as se,b as O,p as R}from"./ui.js";import"./firebase.js";function ue(){const{id:l,transactionId:m}=X(),_=H(),{hasRole:U}=G();if(!U(Q.DESIGNER))return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[e.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-red-100",children:e.jsx(te,{className:"h-6 w-6 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600",children:"You don't have permission to edit transactions. Please contact an administrator if you need access."}),e.jsx(J,{to:`/project/${l}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:"Back to Project"})]})});const[A,W]=u.useState(""),[r,S]=u.useState({transaction_date:"",source:"",transaction_type:"Purchase",payment_method:"",amount:"",budget_category:"Furnishings",notes:"",status:"completed",reimbursement_type:"Client Owes",trigger_event:"Manual",receipt_images:[],other_images:[],receipt_emailed:!1}),[i,f]=u.useState({}),[h,j]=u.useState(!1),[L,q]=u.useState(!0),[y,M]=u.useState(!1),[N,B]=u.useState([]),[v,T]=u.useState([]),[D,w]=u.useState(!1);u.useEffect(()=>{(async()=>{if(!(!l||!m))try{const[n,o]=await Promise.all([P.getTransaction(l,m),Z.getProject(l)]);if(o&&W(o.name),n){const x=!!(n.source&&!E.includes(n.source));S({transaction_date:n.transaction_date||"",source:n.source,transaction_type:n.transaction_type,payment_method:n.payment_method,amount:n.amount,budget_category:n.budget_category||"Furnishings",notes:n.notes||"",status:n.status||"completed",reimbursement_type:n.reimbursement_type||"Client Owes",trigger_event:n.trigger_event||"Manual",receipt_images:[],other_images:[],receipt_emailed:n.receipt_emailed}),w(x);const k=n.other_images||[];B(Array.isArray(k)?k:[]);try{const g=await F.getItemsForTransaction(l,m);console.log("Loaded transaction items:",g);const I=g.map(s=>s.item_id);console.log("Transaction item IDs:",I);const d=await Promise.all(g.map(async s=>{var p,a;return console.log(`Loaded item ${s.item_id}:`,{id:s.item_id,description:(s==null?void 0:s.description)||"",hasValidFormat:s.item_id.startsWith("I-")&&s.item_id.length>10}),{id:s.item_id,description:(s==null?void 0:s.description)||"",price:((p=s==null?void 0:s.purchase_price)==null?void 0:p.toString())||"",sku:(s==null?void 0:s.sku)||"",market_value:((a=s==null?void 0:s.market_value)==null?void 0:a.toString())||"",notes:(s==null?void 0:s.notes)||"",imageFiles:[],images:(s==null?void 0:s.images)||[]}}));console.log("Loaded transaction items:",g.map(s=>({id:s.item_id,description:s.description,isTempId:s.item_id.startsWith("temp-")}))),T(d)}catch(g){console.error("Error loading transaction items:",g)}}}catch(n){console.error("Error loading transaction:",n)}finally{q(!1)}})()},[l,m]);const K=()=>{var n;const t={};return r.source.trim()||(t.source="Source is required"),r.transaction_type.trim()||(t.transaction_type="Transaction type is required"),r.payment_method.trim()||(t.payment_method="Payment method is required"),(n=r.budget_category)!=null&&n.trim()||(t.budget_category="Budget category is required"),r.amount.trim()?(isNaN(Number(r.amount))||Number(r.amount)<=0)&&(t.amount="Amount must be a positive number"):t.amount="Amount is required",r.transaction_date||(t.transaction_date="Transaction date is required"),f(t),Object.keys(t).length===0},z=async t=>{if(t.preventDefault(),!(!K()||!l||!m)){j(!0);try{if(v.length>0){console.log("All items before processing:",v.map(a=>({id:a.id,description:a.description,price:a.purchase_price,sku:a.sku,isTempId:a.id.startsWith("temp-"),idFormat:a.id.startsWith("I-")?"database":a.id.startsWith("temp-")?"temp":"unknown"})));const d=[],s=[];v.forEach(a=>{a.id.startsWith("temp-")?s.push(a):a.id.startsWith("I-")&&a.id.length>10?d.push(a):a.id.length>5&&!a.id.includes("_")?(console.warn(`Item with ambiguous ID treated as existing: ${a.id} - ${a.description}`),d.push(a)):(console.warn(`Item with unclear ID format treated as new: ${a.id} - ${a.description}`),s.push(a))}),console.log(`Separated ${d.length} existing items and ${s.length} new items`);for(const a of d)await F.updateItem(a.id,{description:a.description,purchase_price:a.purchase_price,sku:a.sku,market_value:a.market_value,notes:a.notes,transaction_id:m});let p=[];s.length>0&&(p=await Promise.all(s.map(async a=>{const b={...a,project_id:l,transaction_id:m,date_created:r.transaction_date,source:r.source,inventory_status:"available",payment_method:"Unknown",qr_key:`QR-${Date.now()}-${Math.random().toString(36).substr(2,4)}`,bookmark:!1,sku:a.sku||"",purchase_price:a.purchase_price||"",project_price:a.project_price||"",market_value:a.market_value||"",notes:a.notes||"",space:a.space||""};return await F.createItem(b)})),console.log("Created new items:",p),T(a=>a.map(b=>{const C=s.findIndex(Y=>Y.id===b.id);return C>=0&&C<p.length?{...b,id:p[C]}:b})))}let n=[...N];if(r.other_images&&r.other_images.length>0)try{const d=await $.uploadMultipleOtherImages(r.other_images,A,m,V),s=$.convertFilesToOtherImages(d);n=[...N,...s]}catch(d){console.error("Error uploading other images:",d),f({other_images:"Failed to upload other images. Please try again."}),j(!1),M(!1);return}else n=N;const{other_images:o,receipt_images:x,transaction_images:k,...g}=r,I={...g,other_images:n};await P.updateTransaction(l,m,I),_(`/project/${l}/transaction/${m}`)}catch(n){console.error("Error updating transaction:",n),f({general:n instanceof Error?n.message:"Failed to update transaction. Please try again."})}finally{j(!1)}}},c=(t,n)=>{S(o=>{const x={...o,[t]:n};return t==="status"&&n==="completed"&&o.reimbursement_type?x.reimbursement_type="":t==="reimbursement_type"&&n&&o.status==="completed"&&(x.status="pending"),x}),i[t]&&f(o=>({...o,[t]:void 0}))},V=(t,n)=>{console.log(`Upload progress for file ${t}: ${n.percentage}%`)};return L?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading transaction..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("button",{onClick:()=>_(-1),className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 mr-1"}),"Back"]})})}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Transaction"})}),e.jsxs("form",{onSubmit:z,className:"space-y-6 p-6",children:[i.general&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:i.general})})]})})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Source/Vendor *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:E.map(t=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:`source_${t.toLowerCase().replace(/\s+/g,"_")}`,name:"source",value:t,checked:r.source===t,onChange:n=>{c("source",n.target.value),w(!1)},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:`source_${t.toLowerCase().replace(/\s+/g,"_")}`,className:"ml-2 block text-sm text-gray-900",children:t})]},t))}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"source_custom",name:"source",value:"custom",checked:D,onChange:()=>{w(!0),c("source","")},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"source_custom",className:"ml-2 block text-sm text-gray-900",children:"Other"})]}),D&&e.jsx("input",{type:"text",id:"source_custom_input",value:r.source,onChange:t=>c("source",t.target.value),placeholder:"Enter custom source...",className:`mt-3 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${i.source?"border-red-300":"border-gray-300"}`}),i.source&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.source})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Transaction Type *"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"type_purchase",name:"transaction_type",value:"Purchase",checked:r.transaction_type==="Purchase",onChange:t=>c("transaction_type",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"type_purchase",className:"ml-2 block text-sm text-gray-900",children:"Purchase"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"type_to_inventory",name:"transaction_type",value:"To Inventory",checked:r.transaction_type==="To Inventory",onChange:t=>c("transaction_type",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"type_to_inventory",className:"ml-2 block text-sm text-gray-900",children:"To Inventory"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"type_return",name:"transaction_type",value:"Return",checked:r.transaction_type==="Return",onChange:t=>c("transaction_type",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"type_return",className:"ml-2 block text-sm text-gray-900",children:"Return"})]})]}),i.transaction_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transaction_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"status_pending",name:"status",value:"pending",checked:r.status==="pending",onChange:t=>c("status",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"status_pending",className:"ml-2 block text-sm text-gray-900",children:"Pending"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"status_completed",name:"status",value:"completed",checked:r.status==="completed",onChange:t=>c("status",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"status_completed",className:"ml-2 block text-sm text-gray-900",children:"Completed"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"status_cancelled",name:"status",value:"cancelled",checked:r.status==="cancelled",onChange:t=>c("status",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"status_cancelled",className:"ml-2 block text-sm text-gray-900",children:"Cancelled"})]})]}),i.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Reimbursement Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"reimbursement_none",name:"reimbursement_type",value:"",checked:!r.reimbursement_type,onChange:t=>c("reimbursement_type",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"reimbursement_none",className:"ml-2 block text-sm text-gray-900",children:"None"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"reimbursement_client_owes",name:"reimbursement_type",value:"Client Owes",checked:r.reimbursement_type==="Client Owes",onChange:t=>c("reimbursement_type",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"reimbursement_client_owes",className:"ml-2 block text-sm text-gray-900",children:"Client Owes"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"reimbursement_we_owe",name:"reimbursement_type",value:"We Owe",checked:r.reimbursement_type==="We Owe",onChange:t=>c("reimbursement_type",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"reimbursement_we_owe",className:"ml-2 block text-sm text-gray-900",children:"We Owe"})]})]}),i.reimbursement_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.reimbursement_type})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount *"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),e.jsx("input",{type:"text",id:"amount",value:r.amount,onChange:t=>c("amount",t.target.value),placeholder:"0.00",className:`block w-full pl-8 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${i.amount?"border-red-300":"border-gray-300"}`})]}),i.amount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method *"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"method_client_card",name:"payment_method",value:"Client Card",checked:r.payment_method==="Client Card",onChange:t=>c("payment_method",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"method_client_card",className:"ml-2 block text-sm text-gray-900",children:"Client Card"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"method_1584_card",name:"payment_method",value:"1584 Design",checked:r.payment_method==="1584 Design",onChange:t=>c("payment_method",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"method_1584_card",className:"ml-2 block text-sm text-gray-900",children:"1584 Design"})]})]}),i.payment_method&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.payment_method})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Budget Category *"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"budget_design_fee",name:"budget_category",value:"Design Fee",checked:r.budget_category==="Design Fee",onChange:t=>c("budget_category",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"budget_design_fee",className:"ml-2 block text-sm text-gray-900",children:"Design Fee"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"budget_furnishings",name:"budget_category",value:"Furnishings",checked:r.budget_category==="Furnishings",onChange:t=>c("budget_category",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"budget_furnishings",className:"ml-2 block text-sm text-gray-900",children:"Furnishings"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"budget_property_management",name:"budget_category",value:"Property Management",checked:r.budget_category==="Property Management",onChange:t=>c("budget_category",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"budget_property_management",className:"ml-2 block text-sm text-gray-900",children:"Property Management"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"budget_kitchen",name:"budget_category",value:"Kitchen",checked:r.budget_category==="Kitchen",onChange:t=>c("budget_category",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"budget_kitchen",className:"ml-2 block text-sm text-gray-900",children:"Kitchen"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"budget_install",name:"budget_category",value:"Install",checked:r.budget_category==="Install",onChange:t=>c("budget_category",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"budget_install",className:"ml-2 block text-sm text-gray-900",children:"Install"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"budget_storage_receiving",name:"budget_category",value:"Storage & Receiving",checked:r.budget_category==="Storage & Receiving",onChange:t=>c("budget_category",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"budget_storage_receiving",className:"ml-2 block text-sm text-gray-900",children:"Storage & Receiving"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"budget_fuel",name:"budget_category",value:"Fuel",checked:r.budget_category==="Fuel",onChange:t=>c("budget_category",t.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"budget_fuel",className:"ml-2 block text-sm text-gray-900",children:"Fuel"})]})]}),i.budget_category&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.budget_category})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"transaction_date",className:"block text-sm font-medium text-gray-700",children:"Transaction Date *"}),e.jsx("input",{type:"date",id:"transaction_date",value:r.transaction_date,onChange:t=>{c("transaction_date",t.target.value)},className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${i.transaction_date?"border-red-300":"border-gray-300"}`}),i.transaction_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transaction_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Receipt Email Copy"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"receipt_yes",name:"receipt_emailed",checked:r.receipt_emailed===!0,onChange:()=>c("receipt_emailed",!0),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"receipt_yes",className:"ml-2 block text-sm text-gray-900",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"receipt_no",name:"receipt_emailed",checked:r.receipt_emailed===!1,onChange:()=>c("receipt_emailed",!1),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("label",{htmlFor:"receipt_no",className:"ml-2 block text-sm text-gray-900",children:"No"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),e.jsx("textarea",{id:"notes",rows:3,value:r.notes,onChange:t=>c("notes",t.target.value),placeholder:"Additional notes about this transaction...",className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${i.notes?"border-red-300":"border-gray-300"}`}),i.notes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.notes})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Other Images"}),e.jsx(ee,{onImagesChange:t=>c("other_images",t),maxImages:5,maxFileSize:10,disabled:h||y,className:"mb-2"}),i.other_images&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.other_images})]}),e.jsxs("div",{className:"hidden sm:flex justify-end sm:space-x-3 pt-4",children:[e.jsxs("button",{onClick:()=>_(-1),className:"inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:h||y,className:"inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),h?"Updating...":y?"Uploading Images...":"Update"]})]})]})]}),e.jsx("div",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>_(-1),className:"flex-1 inline-flex justify-center items-center px-4 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:h||y,onClick:t=>{var o;const n=(o=t.currentTarget.closest(".space-y-6"))==null?void 0:o.querySelector("form");n&&n.requestSubmit()},className:"flex-1 inline-flex justify-center items-center px-4 py-3 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),h?"Updating...":y?"Uploading Images...":"Update"]})]})}),e.jsx("div",{className:"sm:hidden h-20"})]})}export{ue as default};
//# sourceMappingURL=EditTransaction.js.map
