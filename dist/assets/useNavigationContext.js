import{m as u}from"./index.js";import{u as h}from"./router.js";function p(){const t=h(),n=new URLSearchParams(t.search),c=u();return{getBackDestination:o=>{try{const a=c.peek(t.pathname+t.search);if(a)return a}catch{}const r=n.get("returnTo");if(r)return r;switch(n.get("from")){case"business-inventory-item":if(t.pathname.startsWith("/project/"))return r||"/business-inventory";break;case"transaction":if(t.pathname.startsWith("/item/")){const a=n.get("project"),s=n.get("transactionId");if(a&&s)return`/project/${a}/transaction/${s}`}break}return o},getNavigationSource:()=>n.get("from"),buildContextUrl:(o,r)=>{const e=new URL(o,window.location.origin),s=new URLSearchParams(t.search).get("from");return s&&e.searchParams.set("from",s),e.searchParams.set("returnTo",t.pathname+t.search),r&&Object.entries(r).forEach(([i,m])=>{e.searchParams.set(i,m)}),e.pathname+e.search}}}export{p as u};
//# sourceMappingURL=useNavigationContext.js.map
