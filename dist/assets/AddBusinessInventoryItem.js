import{j as e}from"./index.js";import{r as l}from"./vendor.js";import{c as b,L as y}from"./router.js";import{b as g}from"./inventoryService.js";import{e as v,b as f,s as j}from"./ui.js";import"./firebase.js";function I(){const m=b(),[c,d]=l.useState(!1),[r,u]=l.useState({description:"",source:"",sku:"",price:"",market_value:"",payment_method:"",disposition:"keep",notes:"",space:"",bookmark:!1,business_inventory_location:"",inventory_status:"available"}),[t,n]=l.useState({}),a=(s,o)=>{u(i=>({...i,[s]:o})),t[s]&&n(i=>({...i,[s]:""}))},x=()=>{const s={};return r.description.trim()||(s.description="Description is required"),r.source.trim()||(s.source="Source is required"),r.price.trim()||(s.price="Price is required"),r.business_inventory_location.trim()||(s.business_inventory_location="Location is required"),n(s),Object.keys(s).length===0},h=async s=>{if(s.preventDefault(),!!x()){d(!0);try{const o={...r,qr_key:`QR-${Date.now()}-${Math.random().toString(36).substr(2,4)}`},i=await g.createBusinessInventoryItem(o);m(`/business-inventory/${i}`)}catch(o){console.error("Error creating item:",o),n({general:"Error creating item. Please try again."})}finally{d(!1)}}},p=()=>{m("/business-inventory")};return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{to:"/business-inventory",className:"mr-4 p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(v,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add Business Inventory Item"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add a new item to your business inventory"})]})]})}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"General Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description *"}),e.jsx("input",{type:"text",id:"description",value:r.description,onChange:s=>a("description",s.target.value),className:`mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${t.description?"border-red-300":""}`,placeholder:"e.g., Vintage leather armchair"}),t.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700",children:"Source *"}),e.jsx("input",{type:"text",id:"source",value:r.source,onChange:s=>a("source",s.target.value),className:`mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${t.source?"border-red-300":""}`,placeholder:"e.g., purchased, found, donated"}),t.source&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.source})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-700",children:"SKU"}),e.jsx("input",{type:"text",id:"sku",value:r.sku,onChange:s=>a("sku",s.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"e.g., CHR-001"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_inventory_location",className:"block text-sm font-medium text-gray-700",children:"Storage Location *"}),e.jsx("input",{type:"text",id:"business_inventory_location",value:r.business_inventory_location,onChange:s=>a("business_inventory_location",s.target.value),className:`mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${t.business_inventory_location?"border-red-300":""}`,placeholder:"e.g., Warehouse A - Section 3 - Shelf 5"}),t.business_inventory_location&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.business_inventory_location})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Purchase Price *"}),e.jsx("input",{type:"number",step:"0.01",id:"price",value:r.price,onChange:s=>a("price",s.target.value),className:`mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${t.price?"border-red-300":""}`,placeholder:"0.00"}),t.price&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.price})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"market_value",className:"block text-sm font-medium text-gray-700",children:"Market Value"}),e.jsx("input",{type:"number",step:"0.01",id:"market_value",value:r.market_value,onChange:s=>a("market_value",s.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"payment_method",className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),e.jsxs("select",{id:"payment_method",value:r.payment_method,onChange:s=>a("payment_method",s.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select payment method"}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"card",children:"Card"}),e.jsx("option",{value:"check",children:"Check"}),e.jsx("option",{value:"bank transfer",children:"Bank Transfer"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"space",className:"block text-sm font-medium text-gray-700",children:"Space/Location (Optional)"}),e.jsx("input",{type:"text",id:"space",value:r.space,onChange:s=>a("space",s.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"e.g., Living Room, Bedroom, Office"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Details"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),e.jsx("textarea",{id:"notes",rows:3,value:r.notes,onChange:s=>a("notes",s.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Additional notes about this item..."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"bookmark",checked:r.bookmark,onChange:s=>a("bookmark",s.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"bookmark",className:"ml-2 block text-sm text-gray-700",children:"Bookmark this item"})]})]})]}),t.general&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"text-sm text-red-800",children:t.general})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsxs("button",{type:"button",onClick:p,className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:c,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors duration-200 disabled:opacity-50",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),c?"Adding Item...":"Add Item"]})]})]})]})})})}export{I as default};
//# sourceMappingURL=AddBusinessInventoryItem.js.map
